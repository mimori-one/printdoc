import{f as D,r,o as _,c as p,a as t,g as T,v as F,u as h,i as $,t as f,F as k,h as B}from"./entry.c1fe3a26.js";const U={class:"m-4 w-full flex"},j={class:"w-1/2 space-y-2"},L={class:"flex items-center"},N=t("div",{class:"mr-2"},"X(左からの横位置)",-1),X=t("div",{class:"ml-2"},"mm",-1),A={class:"flex items-center"},G=t("div",{class:"mr-2"},"Y(下からの縦位置)",-1),H=t("div",{class:"ml-2"},"mm",-1),I={class:"m-4"},J={class:"flex items-center space-x-2"},K={class:"text-lg"},O={class:"text-xl"},P={class:"flex w-full"},Q=t("div",null,[t("canvas",{width:"1300",height:"650"}," キャンバスの表示内容を説明する代替テキストです。 ")],-1),W={class:"flex flex-col space-y-2"},Z=t("div",null,"キズ位置",-1),ee={class:"flex flex-col space-y-2"},te={class:"flex items-center"},se={class:"w-32"},le=["onClick"],ne={class:"m-4"},ie=t("div",{class:"text-lg"},"切り出し位置",-1),ae={class:"flex flex-col space-y-2 m-2"},oe={class:"flex items-center"},ce={class:"text-lg font-bold"},C=10,c=7,d=4,w=3,de=D({__name:"input",setup(ue){const R=[{x:185,y:131},{x:483,y:336},{x:503,y:400},{x:596,y:45},{x:640,y:197},{x:737,y:313},{x:794,y:518},{x:842,y:301},{x:926,y:390},{x:926,y:494},{x:964,y:502},{x:1085,y:527},{x:1232,y:123}],v=r([]),i=r({width:210,height:148});r([{}]);const x=r([{}]),m=r(0),g=r(0),S=r(0),E=()=>{R.forEach(a=>{v.value.push({f_x:a.x,f_y:a.y}),b()})},Y=()=>{v.value.push({f_x:m.value,f_y:g.value}),b()},q=a=>{v.value.splice(a,1),b()},b=()=>{const e=document.querySelector("canvas").getContext("2d");e.fillStyle="paleturquoise",e.fillRect(0,0,1200,610),e.fillStyle="silver",e.fillRect(1200,0,50,610),v.value.forEach(s=>{const o=s.f_x-d,n=610-s.f_y-d;e.fillStyle="deeppink",e.fillRect(o,n,d*2,d*2)})},M=()=>{const e=document.querySelector("canvas").getContext("2d");x.value.forEach(s=>{const o=s.dir==="horizontal"?i.value.width:i.value.height,n=s.dir==="horizontal"?i.value.height:i.value.width,y=s.x,u=610-s.y-n;e.fillStyle="darkslategray",e.fillRect(y,u,o,n),e.font="20px serif",e.fillStyle="white",e.fillText(`${o>n?"タテ":"ヨコ"} ${s.x},${s.y}`,y+4,u+24)})},l=r({x:10,y:10}),V=a=>{const e=performance.now();l.value={x:10,y:10},x.value.splice(0);let s=0;for(;l.value.x+i.value.height<1250&&l.value.y+i.value.height<610&&s<100;)if(z(l.value.x,l.value.y,i.value.height,i.value.width)){x.value.push({x:l.value.x,y:l.value.y,dir:"vertical"});let y=l.value.y+i.value.width+c;if(y+i.value.height>600){l.value={x:l.value.x+w,y:C};continue}else{l.value={x:l.value.x,y};continue}}else if(z(l.value.x,l.value.y,i.value.width,i.value.height)){x.value.push({x:l.value.x,y:l.value.y,dir:"horizontal"});let u=l.value.y+i.value.height+c;if(u+i.value.height>600){l.value={x:l.value.x+w,y:C};continue}else{l.value={x:l.value.x,y:u};continue}}else{let u=l.value.y+w;if(u+i.value.height>600){l.value={x:l.value.x+w,y:C};continue}else{l.value={x:l.value.x,y:u};continue}}const o=performance.now();S.value=o-e,M()},z=(a,e,s,o)=>!(e+o>600||a+s>1197||v.value.some(n=>e-d<n.f_y&&e+o+d>n.f_y&&a-d<n.f_x&&a+s+d>n.f_x)||x.value.some(n=>n.dir==="horizontal"?e<n.y+i.value.height+c&&e+o>n.y-c&&a<n.x+i.value.width+c&&a+s>n.x-c:e<n.y+i.value.width+c&&e+o>n.y-c&&a<n.x+i.value.height+c&&a+i.value.width>n.x-c));return(a,e)=>(_(),p(k,null,[t("div",U,[t("div",j,[t("div",L,[N,T(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>$(m)?m.value=s:null),type:"number",placeholder:"Type here",class:"input input-bordered w-full max-w-xs"},null,512),[[F,h(m)]]),X]),t("div",A,[G,T(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>$(g)?g.value=s:null),type:"number",placeholder:"Type here",class:"input input-bordered w-full max-w-xs"},null,512),[[F,h(g)]]),H]),t("div",{class:"flex justify-between space-x-4 w-full"},[t("button",{class:"btn btn-primary",onClick:Y},"キズ位置を追加"),t("button",{class:"btn",onClick:E},"sample")])])]),t("div",I,[t("div",J,[t("button",{onClick:e[2]||(e[2]=s=>V()),class:"btn btn-primary"},"切り出し位置を計算"),t("div",K,"計算時間: "+f(h(S)/1e3)+"秒",1),t("div",O,"枚数: "+f(h(x).length)+"枚",1)]),t("div",P,[Q,t("div",W,[Z,t("div",{onClick:e[3]||(e[3]=s=>h(v).splice(0)),class:"btn btn-secondary"},"キズ位置を全てリセット"),t("div",ee,[(_(!0),p(k,null,B(h(v),(s,o)=>(_(),p("div",te,[t("div",se,f(s.f_x)+", "+f(s.f_y),1),t("button",{onClick:n=>q(o),class:"btn"},"消す",8,le)]))),256))])])])]),t("div",ne,[ie,t("div",ae,[(_(!0),p(k,null,B(h(x),s=>(_(),p("div",oe,[t("div",ce,f(s.dir==="vertical"?"タテ":"ヨコ")+" x: "+f(s.x)+", y:"+f(s.y),1)]))),256))])])],64))}});export{de as default};
